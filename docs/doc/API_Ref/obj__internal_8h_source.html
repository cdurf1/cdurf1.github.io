<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DAOS API Reference: C:/Users/wcdurfey/Documents/HPDD/Pathforward/daos-master/src/object/obj_internal.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Intel_Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DAOS API Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bb043af75e54e1af3032f67529bb720c.html">object</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">obj_internal.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="obj__internal_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ifndef __DAOS_OBJ_INTENRAL_H__</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define __DAOS_OBJ_INTENRAL_H__</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;abt.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="common_8h.html">daos/common.h</a>&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="event_8h.html">daos/event.h</a>&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="tse_8h.html">daos/tse.h</a>&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="placement_8h.html">daos/placement.h</a>&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="btree_8h.html">daos/btree.h</a>&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="btree__class_8h.html">daos/btree_class.h</a>&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="daos__types_8h.html">daos_types.h</a>&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="obj__internal_8h.html#a0cb19ef1c6719e51fc5253fbd37b2b5f">   43</a></span>&#160;<span class="preprocessor">#define IO_BYPASS_ENV   &quot;DAOS_IO_BYPASS&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="obj__internal_8h.html#a49e090fa5d6c81d2b6a3e3f5315ef322">cli_bypass_rpc</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="obj__internal_8h.html#adc2a28dcf5e4a89b16f93fda313c5c40">srv_bypass_bulk</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html">   59</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> {</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html#af998ab92a7e0387e2b704ccc13d89767">   61</a></span>&#160;    d_rank_t        <a class="code" href="structdc__obj__shard.html#af998ab92a7e0387e2b704ccc13d89767">do_rank</a>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">/* Metadata for this shard */</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html#a70c09c170df18b505c91992cbf0bbc18">   63</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdaos__obj__shard__md.html">daos_obj_shard_md</a> <a class="code" href="structdc__obj__shard.html#a70c09c170df18b505c91992cbf0bbc18">do_md</a>;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html#ac7c1032db713e93b8fef7480e1133f4b">   65</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structdc__obj__shard.html#ac7c1032db713e93b8fef7480e1133f4b">do_ref</a>;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html#aafb56aa6e52b617c4688524ff07ae9e2">   67</a></span>&#160;    <span class="keywordtype">int</span>         <a class="code" href="structdc__obj__shard.html#aafb56aa6e52b617c4688524ff07ae9e2">do_part_nr</a>;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html#a97c2c9cac3d214f668c65a6ba90e1659">   69</a></span>&#160;    <a class="code" href="structdaos__unit__oid__t.html">daos_unit_oid_t</a>     <a class="code" href="structdc__obj__shard.html#a97c2c9cac3d214f668c65a6ba90e1659">do_id</a>;</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html#a2e2c4e2e0bded6b929bb4fda657a62b8">   71</a></span>&#160;    <a class="code" href="structdaos__handle__t.html">daos_handle_t</a>       <a class="code" href="structdc__obj__shard.html#a2e2c4e2e0bded6b929bb4fda657a62b8">do_co_hdl</a>;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html#ad96cb4698d9598e5aeff1f3ecde50a32">   73</a></span>&#160;    d_list_t        <a class="code" href="structdc__obj__shard.html#ad96cb4698d9598e5aeff1f3ecde50a32">do_co_list</a>;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structdc__obj__shard.html#ab0d828726f84c68655543dbb6dc3e95b">   75</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdc__object.html">dc_object</a>    *<a class="code" href="structdc__obj__shard.html#ab0d828726f84c68655543dbb6dc3e95b">do_obj</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;};</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structdc__object.html">   79</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdc__object.html">dc_object</a> {</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structdc__object.html#a4b8848f16b252bf6e30ce4f654edff9e">   81</a></span>&#160;    <span class="keyword">struct </span>d_hlink       cob_hlink;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structdc__object.html#a14f95debc29623ea132236d4de395fca">   87</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdaos__obj__md.html">daos_obj_md</a>   cob_md;</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structdc__object.html#a4edb071f4de282d10717e66c630bac52">   89</a></span>&#160;    <a class="code" href="structdaos__handle__t.html">daos_handle_t</a>        <a class="code" href="structdc__object.html#a4edb071f4de282d10717e66c630bac52">cob_coh</a>;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structdc__object.html#a009fda576cdb8245313f8dccc4f436f5">   91</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>         <a class="code" href="structdc__object.html#a009fda576cdb8245313f8dccc4f436f5">cob_mode</a>;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structdc__object.html#aa181ef8aff0d8ee633261943687e60f3">   93</a></span>&#160;    pthread_spinlock_t   <a class="code" href="structdc__object.html#aa181ef8aff0d8ee633261943687e60f3">cob_spin</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">/* cob_lock protects layout and shard objects ptrs */</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structdc__object.html#a76c1a1e3ac3b8adfb7c20ff3bb918ce6">   96</a></span>&#160;    pthread_rwlock_t     <a class="code" href="structdc__object.html#a76c1a1e3ac3b8adfb7c20ff3bb918ce6">cob_lock</a>;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structdc__object.html#ace87bcddf54de21f3c72391050878361">   98</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structpl__obj__layout.html">pl_obj_layout</a>    *<a class="code" href="structdc__object.html#ace87bcddf54de21f3c72391050878361">cob_layout</a>;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structdc__object.html#a3d12fd5bcaf22d588f4368c990b95bac">  100</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> **<a class="code" href="structdc__object.html#a3d12fd5bcaf22d588f4368c990b95bac">cob_obj_shards</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;};</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/* XXX This is a nasty workaround: shard is encoded in the highest</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment"> * four bytes of the hash anchor. It is ok for now because VOS does</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"> * not use those bytes. We need a cleaner way to store shard index.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="obj__internal_8h.html#a55a81813b7f8ee4ed07b6f07c1bd6809">  114</a></span>&#160;<span class="preprocessor">#define ENUM_ANCHOR_TAG_OFF     24</span></div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="obj__internal_8h.html#a84fcddf5f80e965be7299cf506b25f5f">  115</a></span>&#160;<span class="preprocessor">#define ENUM_ANCHOR_TAG_LENGTH      4</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"> * #define ENUM_ANCHOR_SHARD_OFF    28</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"> * #define ENUM_ANCHOR_SHARD_LENGTH 4</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;enum_anchor_copy_hkey(<a class="code" href="structdaos__hash__out__t.html">daos_hash_out_t</a> *dst, <a class="code" href="structdaos__hash__out__t.html">daos_hash_out_t</a> *src)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    memcpy(&amp;dst-&gt;<a class="code" href="structdaos__hash__out__t.html#ae36f9c7dd3453fa3f15803bd0e990c09">body</a>[<a class="code" href="daos__types_8h.html#aa3965ad6bea60f63195d7bd2d868a7ce">DAOS_HASH_HKEY_START</a>],</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;           &amp;src-&gt;<a class="code" href="structdaos__hash__out__t.html#ae36f9c7dd3453fa3f15803bd0e990c09">body</a>[<a class="code" href="daos__types_8h.html#aa3965ad6bea60f63195d7bd2d868a7ce">DAOS_HASH_HKEY_START</a>], <a class="code" href="daos__types_8h.html#a774cb18a0b6a58dcd878abf9c8989421">DAOS_HASH_HKEY_LENGTH</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;enum_anchor_reset_hkey(<a class="code" href="structdaos__hash__out__t.html">daos_hash_out_t</a> *hash_out)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    memset(&amp;hash_out-&gt;<a class="code" href="structdaos__hash__out__t.html#ae36f9c7dd3453fa3f15803bd0e990c09">body</a>[<a class="code" href="daos__types_8h.html#aa3965ad6bea60f63195d7bd2d868a7ce">DAOS_HASH_HKEY_START</a>], 0,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;           <a class="code" href="daos__types_8h.html#a774cb18a0b6a58dcd878abf9c8989421">DAOS_HASH_HKEY_LENGTH</a>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> uint32_t</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;enum_anchor_get_tag(<a class="code" href="structdaos__hash__out__t.html">daos_hash_out_t</a> *anchor)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    uint32_t tag;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    D_CASSERT(<a class="code" href="daos__types_8h.html#aa3965ad6bea60f63195d7bd2d868a7ce">DAOS_HASH_HKEY_START</a> + <a class="code" href="daos__types_8h.html#a774cb18a0b6a58dcd878abf9c8989421">DAOS_HASH_HKEY_LENGTH</a> &lt;=</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          <a class="code" href="obj__internal_8h.html#a55a81813b7f8ee4ed07b6f07c1bd6809">ENUM_ANCHOR_TAG_OFF</a>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    D_CASSERT(<a class="code" href="daos__types_8h.html#a774cb18a0b6a58dcd878abf9c8989421">DAOS_HASH_HKEY_LENGTH</a> + <a class="code" href="obj__internal_8h.html#a84fcddf5f80e965be7299cf506b25f5f">ENUM_ANCHOR_TAG_LENGTH</a> +</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;          <a class="code" href="object_8h.html#ad1807566ffa262f0379b08917b0f0744">ENUM_ANCHOR_SHARD_LENGTH</a> &lt;= <a class="code" href="daos__types_8h.html#a0c8c8e6b05edb249cf2080f596257895">DAOS_HKEY_MAX</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    memcpy(&amp;tag, &amp;anchor-&gt;<a class="code" href="structdaos__hash__out__t.html#ae36f9c7dd3453fa3f15803bd0e990c09">body</a>[<a class="code" href="obj__internal_8h.html#a55a81813b7f8ee4ed07b6f07c1bd6809">ENUM_ANCHOR_TAG_OFF</a>],</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;           <a class="code" href="obj__internal_8h.html#a84fcddf5f80e965be7299cf506b25f5f">ENUM_ANCHOR_TAG_LENGTH</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> tag;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;enum_anchor_set_tag(<a class="code" href="structdaos__hash__out__t.html">daos_hash_out_t</a> *anchor, uint32_t tag)</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    memcpy(&amp;anchor-&gt;<a class="code" href="structdaos__hash__out__t.html#ae36f9c7dd3453fa3f15803bd0e990c09">body</a>[<a class="code" href="obj__internal_8h.html#a55a81813b7f8ee4ed07b6f07c1bd6809">ENUM_ANCHOR_TAG_OFF</a>], &amp;tag,</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;           <a class="code" href="obj__internal_8h.html#a84fcddf5f80e965be7299cf506b25f5f">ENUM_ANCHOR_TAG_LENGTH</a>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structdss__module__key.html">dss_module_key</a> obj_module_key;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structobj__tls.html">  159</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structobj__tls.html">obj_tls</a> {</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="structobj__tls.html#a7499e44610c77d2d7115ec3c4eec1184">  160</a></span>&#160;    d_sg_list_t <a class="code" href="structobj__tls.html#a7499e44610c77d2d7115ec3c4eec1184">ot_echo_sgl</a>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;};</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="keywordtype">int</span> <a class="code" href="obj__internal_8h.html#a0fe891d617a06368d721d5dc1503277c">dc_obj_shard_open</a>(<span class="keyword">struct</span> <a class="code" href="structdc__object.html">dc_object</a> *obj, uint32_t tgt, <a class="code" href="structdaos__unit__oid__t.html">daos_unit_oid_t</a> <span class="keywordtype">id</span>,</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;              <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mode, <span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> **shard);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keywordtype">void</span> <a class="code" href="obj__internal_8h.html#ac450e381018deee2962fe78afe8c0bb8">dc_obj_shard_close</a>(<span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> *shard);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keywordtype">int</span> <a class="code" href="obj__internal_8h.html#a63b103073d96e41f87fcacd20a5128ee">dc_obj_shard_update</a>(<span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> *shard, <a class="code" href="daos__types_8h.html#ae363d5e93e32d7104d2bdaf97bfa5d61">daos_epoch_t</a> <a class="code" href="simple__array_8c.html#a17de810d40610c8a151488f29fa63593">epoch</a>,</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            <a class="code" href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a> *dkey, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr,</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="structdaos__iod__t.html">daos_iod_t</a> *iods, <a class="code" href="daos__types_8h.html#add25928833f6d9cc680b6f67402889cb">daos_sg_list_t</a> *sgls,</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *map_ver, <a class="code" href="structtse__task.html">tse_task_t</a> *task);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keywordtype">int</span> <a class="code" href="obj__internal_8h.html#a59f3d5eb6acb386610bc80b0dc5b6d03">dc_obj_shard_fetch</a>(<span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> *shard, <a class="code" href="daos__types_8h.html#ae363d5e93e32d7104d2bdaf97bfa5d61">daos_epoch_t</a> <a class="code" href="simple__array_8c.html#a17de810d40610c8a151488f29fa63593">epoch</a>,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;               <a class="code" href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a> *dkey, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr,</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;               <a class="code" href="structdaos__iod__t.html">daos_iod_t</a> *iods, <a class="code" href="daos__types_8h.html#add25928833f6d9cc680b6f67402889cb">daos_sg_list_t</a> *sgls,</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;               <a class="code" href="structdaos__iom__t.html">daos_iom_t</a> *maps, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *map_ver,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;               <a class="code" href="structtse__task.html">tse_task_t</a> *task);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keywordtype">int</span> <a class="code" href="obj__internal_8h.html#a90ed9caaf529011cce3552d5c2de36d5">dc_obj_shard_list_key</a>(<span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> *shard, uint32_t op,</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;              <a class="code" href="daos__types_8h.html#ae363d5e93e32d7104d2bdaf97bfa5d61">daos_epoch_t</a> <a class="code" href="simple__array_8c.html#a17de810d40610c8a151488f29fa63593">epoch</a>, <a class="code" href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a> *key, uint32_t *nr,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;              <a class="code" href="structdaos__key__desc__t.html">daos_key_desc_t</a> *kds, <a class="code" href="daos__types_8h.html#add25928833f6d9cc680b6f67402889cb">daos_sg_list_t</a> *sgl,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;              <a class="code" href="structdaos__hash__out__t.html">daos_hash_out_t</a> *anchor, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *map_ver,</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;              <a class="code" href="structtse__task.html">tse_task_t</a> *task);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="keywordtype">int</span> <a class="code" href="obj__internal_8h.html#ad2669a7c456fc590ff5b4718f6ec987c">dc_obj_shard_list_rec</a>(<span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> *shard, uint32_t op,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;             <a class="code" href="daos__types_8h.html#ae363d5e93e32d7104d2bdaf97bfa5d61">daos_epoch_t</a> <a class="code" href="simple__array_8c.html#a17de810d40610c8a151488f29fa63593">epoch</a>, <a class="code" href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a> *dkey,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;             <a class="code" href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a> *akey, <a class="code" href="daos__types_8h.html#ab06c379248eb344585279218839d165a">daos_iod_type_t</a> type,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;             <a class="code" href="daos__types_8h.html#aef45c835fcfbd5f969030fd7c854eb8a">daos_size_t</a> *<a class="code" href="cross__conn__test_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, uint32_t *nr,</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;             <a class="code" href="structdaos__recx__t.html">daos_recx_t</a> *recxs, <a class="code" href="structdaos__epoch__range__t.html">daos_epoch_range_t</a> *eprs,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;             uuid_t *cookies, uint32_t *versions,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;             <a class="code" href="structdaos__hash__out__t.html">daos_hash_out_t</a> *anchor, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *map_ver,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;             <span class="keywordtype">bool</span> incr_order, <a class="code" href="structtse__task.html">tse_task_t</a> *task);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keywordtype">int</span> <a class="code" href="obj__internal_8h.html#ad4e53a305b10b5109eb634e236b610e1">dc_obj_shard_punch</a>(<span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> *shard, uint32_t <a class="code" href="server__iv_8c.html#a5e189998748217ff2d56bd87a54536d6">opc</a>,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;               <a class="code" href="daos__types_8h.html#ae363d5e93e32d7104d2bdaf97bfa5d61">daos_epoch_t</a> <a class="code" href="simple__array_8c.html#a17de810d40610c8a151488f29fa63593">epoch</a>, <a class="code" href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a> *dkey,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;               <a class="code" href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a> *akeys, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> akey_nr,</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;               <span class="keyword">const</span> uuid_t coh_uuid, <span class="keyword">const</span> uuid_t <a class="code" href="daosbench_8c.html#a5dbc09e509829e3fceb24209f0abc847">cont_uuid</a>,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *map_ver, <a class="code" href="structtse__task.html">tse_task_t</a> *task);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;obj_retry_error(<span class="keywordtype">int</span> err)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;{</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> err == -DER_TIMEDOUT || err == -DER_STALE ||</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;           daos_crt_network_error(err);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keywordtype">void</span> <a class="code" href="obj__internal_8h.html#ab7849b9336d8e3a86f955f01b4c142d4">obj_shard_decref</a>(<span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> *shard);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keywordtype">void</span> <a class="code" href="obj__internal_8h.html#a8e52652c2e192836fbb6b1e0ed3a1808">obj_shard_addref</a>(<span class="keyword">struct</span> <a class="code" href="structdc__obj__shard.html">dc_obj_shard</a> *shard);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keywordtype">void</span> <a class="code" href="obj__internal_8h.html#aab48dd1452fea319c475cec9cec98d17">obj_addref</a>(<span class="keyword">struct</span> <a class="code" href="structdc__object.html">dc_object</a> *obj);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="keywordtype">void</span> <a class="code" href="obj__internal_8h.html#a753ac463260ac11c7e8d870af9bfc2a9">obj_decref</a>(<span class="keyword">struct</span> <a class="code" href="structdc__object.html">dc_object</a> *obj);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">/* srv_obj.c */</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keywordtype">void</span> <a class="code" href="obj__internal_8h.html#ab8f53758a94aefab84ab3fcf89eece9f">ds_obj_rw_handler</a>(crt_rpc_t *rpc);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keywordtype">void</span> <a class="code" href="obj__internal_8h.html#a60567b7e7397df6601fdd5f7fca0fb80">ds_obj_enum_handler</a>(crt_rpc_t *rpc);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keywordtype">void</span> <a class="code" href="obj__internal_8h.html#a44a8772e8e7779e59563df7069fc02ad">ds_obj_punch_handler</a>(crt_rpc_t *rpc);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;ABT_pool</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<a class="code" href="obj__internal_8h.html#ae3c9053bab32f26b64c627f92184026c">ds_obj_abt_pool_choose_cb</a>(crt_rpc_t *rpc, ABT_pool *pools);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> uint64_t</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;obj_dkey2hash(<a class="code" href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a> *dkey)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">/* return 0 for NULL dkey, for example obj punch and list dkey */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (dkey == NULL)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> d_hash_murmur64((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)dkey-&gt;iov_buf,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                   dkey-&gt;iov_len, 5731);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __DAOS_OBJ_INTENRAL_H__ */</span><span class="preprocessor"></span></div><div class="ttc" id="structdaos__unit__oid__t_html"><div class="ttname"><a href="structdaos__unit__oid__t.html">daos_unit_oid_t</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00693">daos_types.h:693</a></div></div>
<div class="ttc" id="structdc__obj__shard_html_a2e2c4e2e0bded6b929bb4fda657a62b8"><div class="ttname"><a href="structdc__obj__shard.html#a2e2c4e2e0bded6b929bb4fda657a62b8">dc_obj_shard::do_co_hdl</a></div><div class="ttdeci">daos_handle_t do_co_hdl</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00071">obj_internal.h:71</a></div></div>
<div class="ttc" id="structdaos__iom__t_html"><div class="ttname"><a href="structdaos__iom__t.html">daos_iom_t</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00632">daos_types.h:632</a></div></div>
<div class="ttc" id="structdaos__handle__t_html"><div class="ttname"><a href="structdaos__handle__t.html">daos_handle_t</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00126">daos_types.h:126</a></div></div>
<div class="ttc" id="obj__internal_8h_html_adc2a28dcf5e4a89b16f93fda313c5c40"><div class="ttname"><a href="obj__internal_8h.html#adc2a28dcf5e4a89b16f93fda313c5c40">srv_bypass_bulk</a></div><div class="ttdeci">bool srv_bypass_bulk</div><div class="ttdef"><b>Definition:</b> <a href="srv__mod_8c_source.html#l00033">srv_mod.c:33</a></div></div>
<div class="ttc" id="obj__internal_8h_html_ad2669a7c456fc590ff5b4718f6ec987c"><div class="ttname"><a href="obj__internal_8h.html#ad2669a7c456fc590ff5b4718f6ec987c">dc_obj_shard_list_rec</a></div><div class="ttdeci">int dc_obj_shard_list_rec(struct dc_obj_shard *shard, uint32_t op, daos_epoch_t epoch, daos_key_t *dkey, daos_key_t *akey, daos_iod_type_t type, daos_size_t *size, uint32_t *nr, daos_recx_t *recxs, daos_epoch_range_t *eprs, uuid_t *cookies, uint32_t *versions, daos_hash_out_t *anchor, unsigned int *map_ver, bool incr_order, tse_task_t *task)</div></div>
<div class="ttc" id="structpl__obj__layout_html"><div class="ttname"><a href="structpl__obj__layout.html">pl_obj_layout</a></div><div class="ttdef"><b>Definition:</b> <a href="placement_8h_source.html#l00077">placement.h:77</a></div></div>
<div class="ttc" id="object_8h_html_ad1807566ffa262f0379b08917b0f0744"><div class="ttname"><a href="object_8h.html#ad1807566ffa262f0379b08917b0f0744">ENUM_ANCHOR_SHARD_LENGTH</a></div><div class="ttdeci">#define ENUM_ANCHOR_SHARD_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00104">object.h:104</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a8e52652c2e192836fbb6b1e0ed3a1808"><div class="ttname"><a href="obj__internal_8h.html#a8e52652c2e192836fbb6b1e0ed3a1808">obj_shard_addref</a></div><div class="ttdeci">void obj_shard_addref(struct dc_obj_shard *shard)</div><div class="ttdef"><b>Definition:</b> <a href="cli__shard_8c_source.html#l00076">cli_shard.c:76</a></div></div>
<div class="ttc" id="obj__internal_8h_html_ac450e381018deee2962fe78afe8c0bb8"><div class="ttname"><a href="obj__internal_8h.html#ac450e381018deee2962fe78afe8c0bb8">dc_obj_shard_close</a></div><div class="ttdeci">void dc_obj_shard_close(struct dc_obj_shard *shard)</div><div class="ttdef"><b>Definition:</b> <a href="cli__shard_8c_source.html#l00110">cli_shard.c:110</a></div></div>
<div class="ttc" id="server__iv_8c_html_a5e189998748217ff2d56bd87a54536d6"><div class="ttname"><a href="server__iv_8c.html#a5e189998748217ff2d56bd87a54536d6">opc</a></div><div class="ttdeci">opc</div><div class="ttdef"><b>Definition:</b> <a href="server__iv_8c_source.html#l00757">server_iv.c:757</a></div></div>
<div class="ttc" id="structdc__object_html"><div class="ttname"><a href="structdc__object.html">dc_object</a></div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00079">obj_internal.h:79</a></div></div>
<div class="ttc" id="btree_8h_html"><div class="ttname"><a href="btree_8h.html">btree.h</a></div></div>
<div class="ttc" id="structdc__obj__shard_html_af998ab92a7e0387e2b704ccc13d89767"><div class="ttname"><a href="structdc__obj__shard.html#af998ab92a7e0387e2b704ccc13d89767">dc_obj_shard::do_rank</a></div><div class="ttdeci">d_rank_t do_rank</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00061">obj_internal.h:61</a></div></div>
<div class="ttc" id="simple__array_8c_html_a17de810d40610c8a151488f29fa63593"><div class="ttname"><a href="simple__array_8c.html#a17de810d40610c8a151488f29fa63593">epoch</a></div><div class="ttdeci">daos_epoch_t epoch</div><div class="ttdef"><b>Definition:</b> <a href="simple__array_8c_source.html#l00071">simple_array.c:71</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a59f3d5eb6acb386610bc80b0dc5b6d03"><div class="ttname"><a href="obj__internal_8h.html#a59f3d5eb6acb386610bc80b0dc5b6d03">dc_obj_shard_fetch</a></div><div class="ttdeci">int dc_obj_shard_fetch(struct dc_obj_shard *shard, daos_epoch_t epoch, daos_key_t *dkey, unsigned int nr, daos_iod_t *iods, daos_sg_list_t *sgls, daos_iom_t *maps, unsigned int *map_ver, tse_task_t *task)</div><div class="ttdef"><b>Definition:</b> <a href="cli__shard_8c_source.html#l00586">cli_shard.c:586</a></div></div>
<div class="ttc" id="structdc__obj__shard_html_ad96cb4698d9598e5aeff1f3ecde50a32"><div class="ttname"><a href="structdc__obj__shard.html#ad96cb4698d9598e5aeff1f3ecde50a32">dc_obj_shard::do_co_list</a></div><div class="ttdeci">d_list_t do_co_list</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00073">obj_internal.h:73</a></div></div>
<div class="ttc" id="structobj__tls_html_a7499e44610c77d2d7115ec3c4eec1184"><div class="ttname"><a href="structobj__tls.html#a7499e44610c77d2d7115ec3c4eec1184">obj_tls::ot_echo_sgl</a></div><div class="ttdeci">d_sg_list_t ot_echo_sgl</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00160">obj_internal.h:160</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a55a81813b7f8ee4ed07b6f07c1bd6809"><div class="ttname"><a href="obj__internal_8h.html#a55a81813b7f8ee4ed07b6f07c1bd6809">ENUM_ANCHOR_TAG_OFF</a></div><div class="ttdeci">#define ENUM_ANCHOR_TAG_OFF</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00114">obj_internal.h:114</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a84fcddf5f80e965be7299cf506b25f5f"><div class="ttname"><a href="obj__internal_8h.html#a84fcddf5f80e965be7299cf506b25f5f">ENUM_ANCHOR_TAG_LENGTH</a></div><div class="ttdeci">#define ENUM_ANCHOR_TAG_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00115">obj_internal.h:115</a></div></div>
<div class="ttc" id="structdaos__hash__out__t_html"><div class="ttname"><a href="structdaos__hash__out__t.html">daos_hash_out_t</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00084">daos_types.h:84</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a753ac463260ac11c7e8d870af9bfc2a9"><div class="ttname"><a href="obj__internal_8h.html#a753ac463260ac11c7e8d870af9bfc2a9">obj_decref</a></div><div class="ttdeci">void obj_decref(struct dc_object *obj)</div><div class="ttdef"><b>Definition:</b> <a href="object_2cli__obj_8c_source.html#l00164">cli_obj.c:164</a></div></div>
<div class="ttc" id="daos__types_8h_html"><div class="ttname"><a href="daos__types_8h.html">daos_types.h</a></div></div>
<div class="ttc" id="daos__types_8h_html_add25928833f6d9cc680b6f67402889cb"><div class="ttname"><a href="daos__types_8h.html#add25928833f6d9cc680b6f67402889cb">daos_sg_list_t</a></div><div class="ttdeci">#define daos_sg_list_t</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00047">daos_types.h:47</a></div></div>
<div class="ttc" id="structdc__obj__shard_html_ab0d828726f84c68655543dbb6dc3e95b"><div class="ttname"><a href="structdc__obj__shard.html#ab0d828726f84c68655543dbb6dc3e95b">dc_obj_shard::do_obj</a></div><div class="ttdeci">struct dc_object * do_obj</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00075">obj_internal.h:75</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a44a8772e8e7779e59563df7069fc02ad"><div class="ttname"><a href="obj__internal_8h.html#a44a8772e8e7779e59563df7069fc02ad">ds_obj_punch_handler</a></div><div class="ttdeci">void ds_obj_punch_handler(crt_rpc_t *rpc)</div><div class="ttdef"><b>Definition:</b> <a href="srv__obj_8c_source.html#l01211">srv_obj.c:1211</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a63b103073d96e41f87fcacd20a5128ee"><div class="ttname"><a href="obj__internal_8h.html#a63b103073d96e41f87fcacd20a5128ee">dc_obj_shard_update</a></div><div class="ttdeci">int dc_obj_shard_update(struct dc_obj_shard *shard, daos_epoch_t epoch, daos_key_t *dkey, unsigned int nr, daos_iod_t *iods, daos_sg_list_t *sgls, unsigned int *map_ver, tse_task_t *task)</div><div class="ttdef"><b>Definition:</b> <a href="cli__shard_8c_source.html#l00576">cli_shard.c:576</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a90ed9caaf529011cce3552d5c2de36d5"><div class="ttname"><a href="obj__internal_8h.html#a90ed9caaf529011cce3552d5c2de36d5">dc_obj_shard_list_key</a></div><div class="ttdeci">int dc_obj_shard_list_key(struct dc_obj_shard *shard, uint32_t op, daos_epoch_t epoch, daos_key_t *key, uint32_t *nr, daos_key_desc_t *kds, daos_sg_list_t *sgl, daos_hash_out_t *anchor, unsigned int *map_ver, tse_task_t *task)</div></div>
<div class="ttc" id="obj__internal_8h_html_a0fe891d617a06368d721d5dc1503277c"><div class="ttname"><a href="obj__internal_8h.html#a0fe891d617a06368d721d5dc1503277c">dc_obj_shard_open</a></div><div class="ttdeci">int dc_obj_shard_open(struct dc_object *obj, uint32_t tgt, daos_unit_oid_t id, unsigned int mode, struct dc_obj_shard **shard)</div><div class="ttdef"><b>Definition:</b> <a href="cli__shard_8c_source.html#l00084">cli_shard.c:84</a></div></div>
<div class="ttc" id="daos__types_8h_html_aa3965ad6bea60f63195d7bd2d868a7ce"><div class="ttname"><a href="daos__types_8h.html#aa3965ad6bea60f63195d7bd2d868a7ce">DAOS_HASH_HKEY_START</a></div><div class="ttdeci">#define DAOS_HASH_HKEY_START</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00088">daos_types.h:88</a></div></div>
<div class="ttc" id="structdc__object_html_a76c1a1e3ac3b8adfb7c20ff3bb918ce6"><div class="ttname"><a href="structdc__object.html#a76c1a1e3ac3b8adfb7c20ff3bb918ce6">dc_object::cob_lock</a></div><div class="ttdeci">pthread_rwlock_t cob_lock</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00096">obj_internal.h:96</a></div></div>
<div class="ttc" id="structdc__object_html_a009fda576cdb8245313f8dccc4f436f5"><div class="ttname"><a href="structdc__object.html#a009fda576cdb8245313f8dccc4f436f5">dc_object::cob_mode</a></div><div class="ttdeci">unsigned int cob_mode</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00091">obj_internal.h:91</a></div></div>
<div class="ttc" id="structdc__obj__shard_html_ac7c1032db713e93b8fef7480e1133f4b"><div class="ttname"><a href="structdc__obj__shard.html#ac7c1032db713e93b8fef7480e1133f4b">dc_obj_shard::do_ref</a></div><div class="ttdeci">unsigned int do_ref</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00065">obj_internal.h:65</a></div></div>
<div class="ttc" id="daos__types_8h_html_ab06c379248eb344585279218839d165a"><div class="ttname"><a href="daos__types_8h.html#ab06c379248eb344585279218839d165a">daos_iod_type_t</a></div><div class="ttdeci">daos_iod_type_t</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00580">daos_types.h:580</a></div></div>
<div class="ttc" id="cross__conn__test_8c_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="cross__conn__test_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="cross__conn__test_8c_source.html#l00032">cross_conn_test.c:32</a></div></div>
<div class="ttc" id="daos__types_8h_html_ae363d5e93e32d7104d2bdaf97bfa5d61"><div class="ttname"><a href="daos__types_8h.html#ae363d5e93e32d7104d2bdaf97bfa5d61">daos_epoch_t</a></div><div class="ttdeci">uint64_t daos_epoch_t</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00248">daos_types.h:248</a></div></div>
<div class="ttc" id="structobj__tls_html"><div class="ttname"><a href="structobj__tls.html">obj_tls</a></div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00159">obj_internal.h:159</a></div></div>
<div class="ttc" id="structdaos__epoch__range__t_html"><div class="ttname"><a href="structdaos__epoch__range__t.html">daos_epoch_range_t</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00250">daos_types.h:250</a></div></div>
<div class="ttc" id="structdc__obj__shard_html_a70c09c170df18b505c91992cbf0bbc18"><div class="ttname"><a href="structdc__obj__shard.html#a70c09c170df18b505c91992cbf0bbc18">dc_obj_shard::do_md</a></div><div class="ttdeci">struct daos_obj_shard_md do_md</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00063">obj_internal.h:63</a></div></div>
<div class="ttc" id="structdc__object_html_a3d12fd5bcaf22d588f4368c990b95bac"><div class="ttname"><a href="structdc__object.html#a3d12fd5bcaf22d588f4368c990b95bac">dc_object::cob_obj_shards</a></div><div class="ttdeci">struct dc_obj_shard ** cob_obj_shards</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00100">obj_internal.h:100</a></div></div>
<div class="ttc" id="structdaos__recx__t_html"><div class="ttname"><a href="structdaos__recx__t.html">daos_recx_t</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00568">daos_types.h:568</a></div></div>
<div class="ttc" id="structdaos__obj__shard__md_html"><div class="ttname"><a href="structdaos__obj__shard__md.html">daos_obj_shard_md</a></div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00043">object.h:43</a></div></div>
<div class="ttc" id="tse_8h_html"><div class="ttname"><a href="tse_8h.html">tse.h</a></div></div>
<div class="ttc" id="daos__types_8h_html_a774cb18a0b6a58dcd878abf9c8989421"><div class="ttname"><a href="daos__types_8h.html#a774cb18a0b6a58dcd878abf9c8989421">DAOS_HASH_HKEY_LENGTH</a></div><div class="ttdeci">#define DAOS_HASH_HKEY_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00089">daos_types.h:89</a></div></div>
<div class="ttc" id="structdaos__key__desc__t_html"><div class="ttname"><a href="structdaos__key__desc__t.html">daos_key_desc_t</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00675">daos_types.h:675</a></div></div>
<div class="ttc" id="obj__internal_8h_html_ab8f53758a94aefab84ab3fcf89eece9f"><div class="ttname"><a href="obj__internal_8h.html#ab8f53758a94aefab84ab3fcf89eece9f">ds_obj_rw_handler</a></div><div class="ttdeci">void ds_obj_rw_handler(crt_rpc_t *rpc)</div><div class="ttdef"><b>Definition:</b> <a href="srv__obj_8c_source.html#l00637">srv_obj.c:637</a></div></div>
<div class="ttc" id="structdc__obj__shard_html"><div class="ttname"><a href="structdc__obj__shard.html">dc_obj_shard</a></div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00059">obj_internal.h:59</a></div></div>
<div class="ttc" id="structtse__task_html"><div class="ttname"><a href="structtse__task.html">tse_task</a></div><div class="ttdef"><b>Definition:</b> <a href="tse_8h_source.html#l00041">tse.h:41</a></div></div>
<div class="ttc" id="btree__class_8h_html"><div class="ttname"><a href="btree__class_8h.html">btree_class.h</a></div></div>
<div class="ttc" id="daos__types_8h_html_abe9dcd972fd6c7392a93b5f3f25ca589"><div class="ttname"><a href="daos__types_8h.html#abe9dcd972fd6c7392a93b5f3f25ca589">daos_key_t</a></div><div class="ttdeci">daos_iov_t daos_key_t</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00545">daos_types.h:545</a></div></div>
<div class="ttc" id="structdaos__hash__out__t_html_ae36f9c7dd3453fa3f15803bd0e990c09"><div class="ttname"><a href="structdaos__hash__out__t.html#ae36f9c7dd3453fa3f15803bd0e990c09">daos_hash_out_t::body</a></div><div class="ttdeci">char body[DAOS_HKEY_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00085">daos_types.h:85</a></div></div>
<div class="ttc" id="daosbench_8c_html_a5dbc09e509829e3fceb24209f0abc847"><div class="ttname"><a href="daosbench_8c.html#a5dbc09e509829e3fceb24209f0abc847">cont_uuid</a></div><div class="ttdeci">uuid_t cont_uuid</div><div class="ttdef"><b>Definition:</b> <a href="daosbench_8c_source.html#l00076">daosbench.c:76</a></div></div>
<div class="ttc" id="structdc__obj__shard_html_a97c2c9cac3d214f668c65a6ba90e1659"><div class="ttname"><a href="structdc__obj__shard.html#a97c2c9cac3d214f668c65a6ba90e1659">dc_obj_shard::do_id</a></div><div class="ttdeci">daos_unit_oid_t do_id</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00069">obj_internal.h:69</a></div></div>
<div class="ttc" id="structdaos__iod__t_html"><div class="ttname"><a href="structdaos__iod__t.html">daos_iod_t</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00594">daos_types.h:594</a></div></div>
<div class="ttc" id="structdc__obj__shard_html_aafb56aa6e52b617c4688524ff07ae9e2"><div class="ttname"><a href="structdc__obj__shard.html#aafb56aa6e52b617c4688524ff07ae9e2">dc_obj_shard::do_part_nr</a></div><div class="ttdeci">int do_part_nr</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00067">obj_internal.h:67</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a49e090fa5d6c81d2b6a3e3f5315ef322"><div class="ttname"><a href="obj__internal_8h.html#a49e090fa5d6c81d2b6a3e3f5315ef322">cli_bypass_rpc</a></div><div class="ttdeci">bool cli_bypass_rpc</div><div class="ttdef"><b>Definition:</b> <a href="cli__mod_8c_source.html#l00035">cli_mod.c:35</a></div></div>
<div class="ttc" id="structdaos__obj__md_html"><div class="ttname"><a href="structdaos__obj__md.html">daos_obj_md</a></div><div class="ttdef"><b>Definition:</b> <a href="object_8h_source.html#l00032">object.h:32</a></div></div>
<div class="ttc" id="event_8h_html"><div class="ttname"><a href="event_8h.html">event.h</a></div></div>
<div class="ttc" id="placement_8h_html"><div class="ttname"><a href="placement_8h.html">placement.h</a></div></div>
<div class="ttc" id="obj__internal_8h_html_aab48dd1452fea319c475cec9cec98d17"><div class="ttname"><a href="obj__internal_8h.html#aab48dd1452fea319c475cec9cec98d17">obj_addref</a></div><div class="ttdeci">void obj_addref(struct dc_object *obj)</div><div class="ttdef"><b>Definition:</b> <a href="object_2cli__obj_8c_source.html#l00170">cli_obj.c:170</a></div></div>
<div class="ttc" id="structdc__object_html_ace87bcddf54de21f3c72391050878361"><div class="ttname"><a href="structdc__object.html#ace87bcddf54de21f3c72391050878361">dc_object::cob_layout</a></div><div class="ttdeci">struct pl_obj_layout * cob_layout</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00098">obj_internal.h:98</a></div></div>
<div class="ttc" id="common_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="structdss__module__key_html"><div class="ttname"><a href="structdss__module__key.html">dss_module_key</a></div><div class="ttdef"><b>Definition:</b> <a href="daos__server_8h_source.html#l00076">daos_server.h:76</a></div></div>
<div class="ttc" id="daos__types_8h_html_a0c8c8e6b05edb249cf2080f596257895"><div class="ttname"><a href="daos__types_8h.html#a0c8c8e6b05edb249cf2080f596257895">DAOS_HKEY_MAX</a></div><div class="ttdeci">#define DAOS_HKEY_MAX</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00065">daos_types.h:65</a></div></div>
<div class="ttc" id="daos__types_8h_html_aef45c835fcfbd5f969030fd7c854eb8a"><div class="ttname"><a href="daos__types_8h.html#aef45c835fcfbd5f969030fd7c854eb8a">daos_size_t</a></div><div class="ttdeci">uint64_t daos_size_t</div><div class="ttdef"><b>Definition:</b> <a href="daos__types_8h_source.html#l00053">daos_types.h:53</a></div></div>
<div class="ttc" id="obj__internal_8h_html_a60567b7e7397df6601fdd5f7fca0fb80"><div class="ttname"><a href="obj__internal_8h.html#a60567b7e7397df6601fdd5f7fca0fb80">ds_obj_enum_handler</a></div><div class="ttdeci">void ds_obj_enum_handler(crt_rpc_t *rpc)</div><div class="ttdef"><b>Definition:</b> <a href="srv__obj_8c_source.html#l00995">srv_obj.c:995</a></div></div>
<div class="ttc" id="obj__internal_8h_html_ab7849b9336d8e3a86f955f01b4c142d4"><div class="ttname"><a href="obj__internal_8h.html#ab7849b9336d8e3a86f955f01b4c142d4">obj_shard_decref</a></div><div class="ttdeci">void obj_shard_decref(struct dc_obj_shard *shard)</div><div class="ttdef"><b>Definition:</b> <a href="cli__shard_8c_source.html#l00059">cli_shard.c:59</a></div></div>
<div class="ttc" id="structdc__object_html_a4edb071f4de282d10717e66c630bac52"><div class="ttname"><a href="structdc__object.html#a4edb071f4de282d10717e66c630bac52">dc_object::cob_coh</a></div><div class="ttdeci">daos_handle_t cob_coh</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00089">obj_internal.h:89</a></div></div>
<div class="ttc" id="structdc__object_html_aa181ef8aff0d8ee633261943687e60f3"><div class="ttname"><a href="structdc__object.html#aa181ef8aff0d8ee633261943687e60f3">dc_object::cob_spin</a></div><div class="ttdeci">pthread_spinlock_t cob_spin</div><div class="ttdef"><b>Definition:</b> <a href="obj__internal_8h_source.html#l00093">obj_internal.h:93</a></div></div>
<div class="ttc" id="obj__internal_8h_html_ad4e53a305b10b5109eb634e236b610e1"><div class="ttname"><a href="obj__internal_8h.html#ad4e53a305b10b5109eb634e236b610e1">dc_obj_shard_punch</a></div><div class="ttdeci">int dc_obj_shard_punch(struct dc_obj_shard *shard, uint32_t opc, daos_epoch_t epoch, daos_key_t *dkey, daos_key_t *akeys, unsigned int akey_nr, const uuid_t coh_uuid, const uuid_t cont_uuid, unsigned int *map_ver, tse_task_t *task)</div><div class="ttdef"><b>Definition:</b> <a href="cli__shard_8c_source.html#l00506">cli_shard.c:506</a></div></div>
<div class="ttc" id="obj__internal_8h_html_ae3c9053bab32f26b64c627f92184026c"><div class="ttname"><a href="obj__internal_8h.html#ae3c9053bab32f26b64c627f92184026c">ds_obj_abt_pool_choose_cb</a></div><div class="ttdeci">ABT_pool ds_obj_abt_pool_choose_cb(crt_rpc_t *rpc, ABT_pool *pools)</div><div class="ttdef"><b>Definition:</b> <a href="srv__obj_8c_source.html#l01237">srv_obj.c:1237</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
