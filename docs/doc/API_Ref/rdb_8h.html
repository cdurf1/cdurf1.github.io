<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DAOS API Reference: C:/Users/wcdurfey/Documents/HPDD/Pathforward/daos-master/src/include/daos_srv/rdb.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Intel_Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DAOS API Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b0856f6b0d80ccb263b2f415c91f9e17.html">include</a></li><li class="navelem"><a class="el" href="dir_174b8d3b0b37ad7c82acfcb90ca73e8c.html">daos_srv</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rdb.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="common_8h_source.html">daos/common.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="btree__class_8h_source.html">daos/btree_class.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="daos__types_8h_source.html">daos_types.h</a>&gt;</code><br />
</div>
<p><a href="rdb_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrdb__cbs.html">rdb_cbs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrdb__kvs__attr.html">rdb_kvs_attr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrdb__tx.html">rdb_tx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4c522ad446c1ed8b59d6d88c6b922ab7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a4c522ad446c1ed8b59d6d88c6b922ab7">RDB_STRING_KEY</a>(prefix,  name)</td></tr>
<tr class="separator:a4c522ad446c1ed8b59d6d88c6b922ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc3f70fcf077ac01e3b4b476af221171"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#adc3f70fcf077ac01e3b4b476af221171">RDB_NIL_TERM</a>&#160;&#160;&#160;UINT64_MAX</td></tr>
<tr class="separator:adc3f70fcf077ac01e3b4b476af221171"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad4dfd3c62ba900fee3e7320e4f98decd"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a></td></tr>
<tr class="separator:ad4dfd3c62ba900fee3e7320e4f98decd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6840c963a60012d4d919b55342c851"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="btree_8h.html#a68c3848a51c6c8fe007d3a2bf29b42f0">dbtree_iterate_cb_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a1d6840c963a60012d4d919b55342c851">rdb_iterate_cb_t</a></td></tr>
<tr class="separator:a1d6840c963a60012d4d919b55342c851"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2cbcd0aeba52bbfdc56949b39d05f35b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a2cbcd0aeba52bbfdc56949b39d05f35b">rdb_kvs_class</a> { <a class="el" href="rdb_8h.html#a2cbcd0aeba52bbfdc56949b39d05f35bac2b40f2e27a5ec27c7060d427b35d659">RDB_KVS_GENERIC</a>, 
<a class="el" href="rdb_8h.html#a2cbcd0aeba52bbfdc56949b39d05f35ba2f94c1a110361aa31ccc26b2c6170d37">RDB_KVS_INTEGER</a>
 }</td></tr>
<tr class="separator:a2cbcd0aeba52bbfdc56949b39d05f35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f9429458504aabd590760cfda655677"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677">rdb_probe_opc</a> { <br />
&#160;&#160;<a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677a960bf53339dd207db1a43d5c36a3a2c0">RDB_PROBE_FIRST</a> = BTR_PROBE_FIRST, 
<a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677aa455f6c51efca47ba1a9b127483af631">RDB_PROBE_LAST</a> = BTR_PROBE_LAST, 
<a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677a9362cce35979b36e3eee846da70ad56a">RDB_PROBE_EQ</a> = BTR_PROBE_EQ, 
<a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677a07ac6545fa44d21eceb26837c438044b">RDB_PROBE_GE</a> = BTR_PROBE_GE, 
<br />
&#160;&#160;<a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677a88790011e719e4d3ec576e5a107438e5">RDB_PROBE_LE</a> = BTR_PROBE_LE
<br />
 }</td></tr>
<tr class="separator:a5f9429458504aabd590760cfda655677"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8882a1544ea416d3d09efddf62df1dee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a8882a1544ea416d3d09efddf62df1dee">rdb_create</a> (const char *path, const uuid_t uuid, size_t <a class="el" href="cross__conn__test_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, const d_rank_list_t *ranks)</td></tr>
<tr class="separator:a8882a1544ea416d3d09efddf62df1dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c5108f853dedf450228a5693e4a9d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a08c5108f853dedf450228a5693e4a9d3">rdb_destroy</a> (const char *path)</td></tr>
<tr class="separator:a08c5108f853dedf450228a5693e4a9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7c544529a9f7d2cd61c6ae56c8ae37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a8d7c544529a9f7d2cd61c6ae56c8ae37">rdb_start</a> (const char *path, struct <a class="el" href="structrdb__cbs.html">rdb_cbs</a> *cbs, void *arg, struct <a class="el" href="structrdb.html">rdb</a> **dbp)</td></tr>
<tr class="separator:a8d7c544529a9f7d2cd61c6ae56c8ae37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b96cc678bcefeb2696563e9311ffe5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a25b96cc678bcefeb2696563e9311ffe5">rdb_stop</a> (struct <a class="el" href="structrdb.html">rdb</a> *db)</td></tr>
<tr class="separator:a25b96cc678bcefeb2696563e9311ffe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082bf8e89377a250bb3aec4df505a7e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a082bf8e89377a250bb3aec4df505a7e5">rdb_resign</a> (struct <a class="el" href="structrdb.html">rdb</a> *db, uint64_t term)</td></tr>
<tr class="separator:a082bf8e89377a250bb3aec4df505a7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce0574afa2e00fb8174826009271275"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#acce0574afa2e00fb8174826009271275">rdb_is_leader</a> (struct <a class="el" href="structrdb.html">rdb</a> *db, uint64_t *term)</td></tr>
<tr class="separator:acce0574afa2e00fb8174826009271275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9a7fdcd9bcbcc67290c6235c6394b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a6d9a7fdcd9bcbcc67290c6235c6394b6">rdb_get_leader</a> (struct <a class="el" href="structrdb.html">rdb</a> *db, uint64_t *term, d_rank_t *<a class="el" href="cross__conn__test_8c.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>)</td></tr>
<tr class="separator:a6d9a7fdcd9bcbcc67290c6235c6394b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a748b0a12535ed5e58e228284d1be5596"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a748b0a12535ed5e58e228284d1be5596">rdb_get_ranks</a> (struct <a class="el" href="structrdb.html">rdb</a> *db, d_rank_list_t **ranksp)</td></tr>
<tr class="separator:a748b0a12535ed5e58e228284d1be5596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918b07640c1ee4f5300150e2fa91dc6c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a918b07640c1ee4f5300150e2fa91dc6c">rdb_path_init</a> (<a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *path)</td></tr>
<tr class="separator:a918b07640c1ee4f5300150e2fa91dc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa2568cc6c9114a76f092280666b5efb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#afa2568cc6c9114a76f092280666b5efb">rdb_path_fini</a> (<a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *path)</td></tr>
<tr class="separator:afa2568cc6c9114a76f092280666b5efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf284d715852b16826416c70ff5af6cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#acf284d715852b16826416c70ff5af6cb">rdb_path_clone</a> (const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *path, <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *new_path)</td></tr>
<tr class="separator:acf284d715852b16826416c70ff5af6cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da95a1950b3893507f0881e29dd0b77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a5da95a1950b3893507f0881e29dd0b77">rdb_path_push</a> (<a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *path, const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *key)</td></tr>
<tr class="separator:a5da95a1950b3893507f0881e29dd0b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac15acfef334d15781fd2816f8b3e6dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#aac15acfef334d15781fd2816f8b3e6dd">rdb_tx_begin</a> (struct <a class="el" href="structrdb.html">rdb</a> *db, uint64_t term, struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx)</td></tr>
<tr class="separator:aac15acfef334d15781fd2816f8b3e6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb50fabb159cc6442682bc2637e6cf5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#acb50fabb159cc6442682bc2637e6cf5b">rdb_tx_commit</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx)</td></tr>
<tr class="separator:acb50fabb159cc6442682bc2637e6cf5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e766e3f83e71e1088647d3a78d5bee5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a0e766e3f83e71e1088647d3a78d5bee5">rdb_tx_end</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx)</td></tr>
<tr class="separator:a0e766e3f83e71e1088647d3a78d5bee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a424584eff345e62d658c231ae49f5c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a7a424584eff345e62d658c231ae49f5c">rdb_tx_create_root</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx, const struct <a class="el" href="structrdb__kvs__attr.html">rdb_kvs_attr</a> *attr)</td></tr>
<tr class="separator:a7a424584eff345e62d658c231ae49f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd3a1ae8c7121503c20a384f448121fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#acd3a1ae8c7121503c20a384f448121fa">rdb_tx_destroy_root</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx)</td></tr>
<tr class="separator:acd3a1ae8c7121503c20a384f448121fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f639801cd64f97057822c7a1ea47b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a19f639801cd64f97057822c7a1ea47b6">rdb_tx_create_kvs</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx, const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *parent, const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *key, const struct <a class="el" href="structrdb__kvs__attr.html">rdb_kvs_attr</a> *attr)</td></tr>
<tr class="separator:a19f639801cd64f97057822c7a1ea47b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ee8f185257c553fe95e0f8c23ecada"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a70ee8f185257c553fe95e0f8c23ecada">rdb_tx_destroy_kvs</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx, const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *parent, const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *key)</td></tr>
<tr class="separator:a70ee8f185257c553fe95e0f8c23ecada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed5e9ae251106be9b8b5f93c17def36a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#aed5e9ae251106be9b8b5f93c17def36a">rdb_tx_update</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx, const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *kvs, const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *key, const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *value)</td></tr>
<tr class="separator:aed5e9ae251106be9b8b5f93c17def36a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f5935a8978513e312ed64c05d7754c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#aa9f5935a8978513e312ed64c05d7754c">rdb_tx_delete</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx, const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *kvs, const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *key)</td></tr>
<tr class="separator:aa9f5935a8978513e312ed64c05d7754c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85aa143cb1d744c2d5468c3c360ce268"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a85aa143cb1d744c2d5468c3c360ce268">rdb_tx_lookup</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx, const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *kvs, const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *key, <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *value)</td></tr>
<tr class="separator:a85aa143cb1d744c2d5468c3c360ce268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb1bd8115186c628b6eaee7156d1277"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#abcb1bd8115186c628b6eaee7156d1277">rdb_tx_fetch</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx, const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *kvs, enum <a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677">rdb_probe_opc</a> <a class="el" href="server__iv_8c.html#a5e189998748217ff2d56bd87a54536d6">opc</a>, const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *key_in, <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *key_out, <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *value)</td></tr>
<tr class="separator:abcb1bd8115186c628b6eaee7156d1277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc26d0097196e7bfdf549f83301e8709"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#adc26d0097196e7bfdf549f83301e8709">rdb_tx_iterate</a> (struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *tx, const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *kvs, bool backward, <a class="el" href="rdb_8h.html#a1d6840c963a60012d4d919b55342c851">rdb_iterate_cb_t</a> cb, void *arg)</td></tr>
<tr class="separator:adc26d0097196e7bfdf549f83301e8709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328ae5d800daa99aabb53bf11ddc1d56"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a328ae5d800daa99aabb53bf11ddc1d56">rdb_dist_start</a> (const uuid_t uuid, const uuid_t <a class="el" href="simple__array_8c.html#af0550e8571af2e0a92e968b92190db31">pool_uuid</a>, const d_rank_list_t *ranks, bool create, size_t <a class="el" href="cross__conn__test_8c.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr class="separator:a328ae5d800daa99aabb53bf11ddc1d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2aad2b8e3a9f602f117337b1ee86bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a3e2aad2b8e3a9f602f117337b1ee86bf">rdb_dist_stop</a> (const uuid_t uuid, const uuid_t <a class="el" href="simple__array_8c.html#af0550e8571af2e0a92e968b92190db31">pool_uuid</a>, const d_rank_list_t *ranks, bool destroy)</td></tr>
<tr class="separator:a3e2aad2b8e3a9f602f117337b1ee86bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5ec25dbad5708426d925aa0bf19020c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdb_8h.html#a5ec25dbad5708426d925aa0bf19020c2">rdb_path_root_key</a></td></tr>
<tr class="separator:a5ec25dbad5708426d925aa0bf19020c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="adc3f70fcf077ac01e3b4b476af221171"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc3f70fcf077ac01e3b4b476af221171">&sect;&nbsp;</a></span>RDB_NIL_TERM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RDB_NIL_TERM&#160;&#160;&#160;UINT64_MAX</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Nil term </p>

<p>Definition at line <a class="el" href="rdb_8h_source.html#l00214">214</a> of file <a class="el" href="rdb_8h_source.html">rdb.h</a>.</p>

</div>
</div>
<a id="a4c522ad446c1ed8b59d6d88c6b922ab7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c522ad446c1ed8b59d6d88c6b922ab7">&sect;&nbsp;</a></span>RDB_STRING_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RDB_STRING_KEY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">prefix, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span> prefix ## name ## _buf[] = #name;           \</div><div class="line">daos_iov_t  prefix ## name = {                  \</div><div class="line">    .iov_buf    = prefix ## name ## _buf,           \</div><div class="line">    .iov_buf_len    = <span class="keyword">sizeof</span>(prefix ## name ## _buf),       \</div><div class="line">    .iov_len    = <span class="keyword">sizeof</span>(prefix ## name ## _buf)        \</div><div class="line">}</div></div><!-- fragment --><p>Define a daos_iov_t object, named <em>prefix</em> + <em>name</em>, that represents a constant string key. See rdb_layout.[ch] for an example of the usage of this helper macro. </p>

<p>Definition at line <a class="el" href="rdb_8h_source.html#l00179">179</a> of file <a class="el" href="rdb_8h_source.html">rdb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a1d6840c963a60012d4d919b55342c851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6840c963a60012d4d919b55342c851">&sect;&nbsp;</a></span>rdb_iterate_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="btree_8h.html#a68c3848a51c6c8fe007d3a2bf29b42f0">dbtree_iterate_cb_t</a> <a class="el" href="rdb_8h.html#a1d6840c963a60012d4d919b55342c851">rdb_iterate_cb_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Iteration callback </p>

<p>Definition at line <a class="el" href="rdb_8h_source.html#l00243">243</a> of file <a class="el" href="rdb_8h_source.html">rdb.h</a>.</p>

</div>
</div>
<a id="ad4dfd3c62ba900fee3e7320e4f98decd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4dfd3c62ba900fee3e7320e4f98decd">&sect;&nbsp;</a></span>rdb_path_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Path (opaque)</p>
<p>A path is a list of keys. An absolute path begins with a special key (rdb_path_root_key) representing the root KVS. </p>

<p>Definition at line <a class="el" href="rdb_8h_source.html#l00159">159</a> of file <a class="el" href="rdb_8h_source.html">rdb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a2cbcd0aeba52bbfdc56949b39d05f35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cbcd0aeba52bbfdc56949b39d05f35b">&sect;&nbsp;</a></span>rdb_kvs_class</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rdb_8h.html#a2cbcd0aeba52bbfdc56949b39d05f35b">rdb_kvs_class</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>KVS classes </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2cbcd0aeba52bbfdc56949b39d05f35bac2b40f2e27a5ec27c7060d427b35d659"></a>RDB_KVS_GENERIC&#160;</td><td class="fielddoc"><p>hash-ordered byte-stream keys </p>
</td></tr>
<tr><td class="fieldname"><a id="a2cbcd0aeba52bbfdc56949b39d05f35ba2f94c1a110361aa31ccc26b2c6170d37"></a>RDB_KVS_INTEGER&#160;</td><td class="fielddoc"><p>ordered fixed-size integer keys </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="rdb_8h_source.html#l00188">188</a> of file <a class="el" href="rdb_8h_source.html">rdb.h</a>.</p>

</div>
</div>
<a id="a5f9429458504aabd590760cfda655677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f9429458504aabd590760cfda655677">&sect;&nbsp;</a></span>rdb_probe_opc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677">rdb_probe_opc</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Probe operation codes </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5f9429458504aabd590760cfda655677a960bf53339dd207db1a43d5c36a3a2c0"></a>RDB_PROBE_FIRST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5f9429458504aabd590760cfda655677aa455f6c51efca47ba1a9b127483af631"></a>RDB_PROBE_LAST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5f9429458504aabd590760cfda655677a9362cce35979b36e3eee846da70ad56a"></a>RDB_PROBE_EQ&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5f9429458504aabd590760cfda655677a07ac6545fa44d21eceb26837c438044b"></a>RDB_PROBE_GE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5f9429458504aabd590760cfda655677a88790011e719e4d3ec576e5a107438e5"></a>RDB_PROBE_LE&#160;</td><td class="fielddoc"></td></tr>
</table>

<p>Definition at line <a class="el" href="rdb_8h_source.html#l00234">234</a> of file <a class="el" href="rdb_8h_source.html">rdb.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8882a1544ea416d3d09efddf62df1dee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8882a1544ea416d3d09efddf62df1dee">&sect;&nbsp;</a></span>rdb_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const d_rank_list_t *&#160;</td>
          <td class="paramname"><em>ranks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Database methods</p>
<p>Create an rdb replica at <em>path</em> with <em>uuid</em>, <em>size</em>, and <em>ranks</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>replica path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>database UUID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>replica size in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ranks</td><td>list of replica ranks </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00044">44</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="a08c5108f853dedf450228a5693e4a9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c5108f853dedf450228a5693e4a9d3">&sect;&nbsp;</a></span>rdb_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_destroy </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the rdb replica at <em>path</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>replica path </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00122">122</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="a328ae5d800daa99aabb53bf11ddc1d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a328ae5d800daa99aabb53bf11ddc1d56">&sect;&nbsp;</a></span>rdb_dist_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_dist_start </td>
          <td>(</td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>pool_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const d_rank_list_t *&#160;</td>
          <td class="paramname"><em>ranks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Distributed helper methods</p>
<p>Perform a distributed create, if <em>create</em> is true, and start operation on all replicas of a database with <em>uuid</em> spanning <em>ranks</em>. This method can be called on any rank. If <em>create</em> is false, <em>ranks</em> may be NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>database UUID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pool_uuid</td><td>pool UUID (for <a class="el" href="daos__mgmt__srv_8h.html#a8b85701ba2beed841aac4e8e282ce57c">ds_mgmt_tgt_file()</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ranks</td><td>list of replica ranks </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">create</td><td>create replicas first </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of each replica in bytes if <em>create</em> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00457">457</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="a3e2aad2b8e3a9f602f117337b1ee86bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2aad2b8e3a9f602f117337b1ee86bf">&sect;&nbsp;</a></span>rdb_dist_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_dist_stop </td>
          <td>(</td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>pool_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const d_rank_list_t *&#160;</td>
          <td class="paramname"><em>ranks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>destroy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform a distributed stop, and if <em>destroy</em> is true, destroy operation on all replicas of a database with <em>uuid</em> spanning <em>ranks</em>. This method can be called on any rank. <em>ranks</em> may be NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>database UUID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pool_uuid</td><td>pool UUID (for <a class="el" href="daos__mgmt__srv_8h.html#a8b85701ba2beed841aac4e8e282ce57c">ds_mgmt_tgt_file()</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ranks</td><td>list of <em>ranks-&gt;rl_nr</em> replica ranks </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">destroy</td><td>destroy after close </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00576">576</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="a6d9a7fdcd9bcbcc67290c6235c6394b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d9a7fdcd9bcbcc67290c6235c6394b6">&sect;&nbsp;</a></span>rdb_get_leader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_get_leader </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb.html">rdb</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">d_rank_t *&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a hint of the current leader, if available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">db</td><td>database </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">term</td><td>term of current leader </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rank</td><td>rank of current leader</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NONEXIST</td><td>no leader hint available </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00414">414</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="a748b0a12535ed5e58e228284d1be5596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a748b0a12535ed5e58e228284d1be5596">&sect;&nbsp;</a></span>rdb_get_ranks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_get_ranks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb.html">rdb</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">d_rank_list_t **&#160;</td>
          <td class="paramname"><em>ranksp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the list of replica ranks. Callers are responsible for <a class="el" href="common_8h.html#abab6680a5dee361f20867bdeee1cc359">daos_rank_list_free(*ranksp)</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">db</td><td>database </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ranksp</td><td>list of replica ranks </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00437">437</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="acce0574afa2e00fb8174826009271275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce0574afa2e00fb8174826009271275">&sect;&nbsp;</a></span>rdb_is_leader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rdb_is_leader </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb.html">rdb</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>term</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Is this replica in the leader state? True does not guarantee a <em>current</em> leadership.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">db</td><td>database </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">term</td><td>latest term heard of </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00398">398</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="acf284d715852b16826416c70ff5af6cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf284d715852b16826416c70ff5af6cb">&sect;&nbsp;</a></span>rdb_path_clone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_path_clone </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>new_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clone <em>path</em> into <em>new_path</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>existing path </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">new_path</td><td>new path</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOMEM</td><td>failed to allocate initial path buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__path_8c_source.html#l00086">86</a> of file <a class="el" href="rdb__path_8c_source.html">rdb_path.c</a>.</p>

</div>
</div>
<a id="afa2568cc6c9114a76f092280666b5efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa2568cc6c9114a76f092280666b5efb">&sect;&nbsp;</a></span>rdb_path_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdb_path_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finalize <em>path</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">path</td><td>path </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__path_8c_source.html#l00071">71</a> of file <a class="el" href="rdb__path_8c_source.html">rdb_path.c</a>.</p>

</div>
</div>
<a id="a918b07640c1ee4f5300150e2fa91dc6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918b07640c1ee4f5300150e2fa91dc6c">&sect;&nbsp;</a></span>rdb_path_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_path_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Path methods</p>
<p>Initialize <em>path</em>. If successful, <em>path</em> is empty (i.e., does not represent the root KVS).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">path</td><td>path</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOMEM</td><td>failed to allocate initial path buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__path_8c_source.html#l00052">52</a> of file <a class="el" href="rdb__path_8c_source.html">rdb_path.c</a>.</p>

</div>
</div>
<a id="a5da95a1950b3893507f0881e29dd0b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da95a1950b3893507f0881e29dd0b77">&sect;&nbsp;</a></span>rdb_path_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_path_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Push <em>key</em> to the end of <em>path</em>. <em>path</em> must have been initialized by <a class="el" href="rdb__path_8c.html#a918b07640c1ee4f5300150e2fa91dc6c">rdb_path_init()</a> already.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">path</td><td>path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOMEM</td><td>failed to allocate initial path buffer </td></tr>
    <tr><td class="paramname">-DER_OVERFLOW</td><td>path would become too large </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__path_8c_source.html#l00112">112</a> of file <a class="el" href="rdb__path_8c_source.html">rdb_path.c</a>.</p>

</div>
</div>
<a id="a082bf8e89377a250bb3aec4df505a7e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082bf8e89377a250bb3aec4df505a7e5">&sect;&nbsp;</a></span>rdb_resign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdb_resign </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb.html">rdb</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>term</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resign the leadership in <em>term</em>. If <em>term</em> is not current or this replica is not in leader state, this function does nothing. Otherwise, all TXs in <em>term</em> will eventually abort, and the dc_step_down callback will eventually be called with <em>term</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">db</td><td>database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">term</td><td>term of leadership to resign </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00385">385</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="a8d7c544529a9f7d2cd61c6ae56c8ae37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7c544529a9f7d2cd61c6ae56c8ae37">&sect;&nbsp;</a></span>rdb_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_start </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrdb__cbs.html">rdb_cbs</a> *&#160;</td>
          <td class="paramname"><em>cbs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrdb.html">rdb</a> **&#160;</td>
          <td class="paramname"><em>dbp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start an RDB replica at <em>path</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>replica path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbs</td><td>callbacks (not copied) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>argument for cbs </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dbp</td><td>database </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00231">231</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="a25b96cc678bcefeb2696563e9311ffe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25b96cc678bcefeb2696563e9311ffe5">&sect;&nbsp;</a></span>rdb_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdb_stop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb.html">rdb</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop an RDB replica <em>db</em>. All TXs in <em>db</em> must be either ended already or blocking only in rdb.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">db</td><td>database </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb_8c_source.html#l00356">356</a> of file <a class="el" href="rdb_8c_source.html">rdb.c</a>.</p>

</div>
</div>
<a id="aac15acfef334d15781fd2816f8b3e6dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac15acfef334d15781fd2816f8b3e6dd">&sect;&nbsp;</a></span>rdb_tx_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_begin </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb.html">rdb</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TX methods</p>
<p>Initialize and begin <em>tx</em>. May Argobots-block.</p>
<p>If <em>term</em> differs from the current term, -DER_NOTLEADER is returned. (An RDB_NIL_TERM <em>term</em> is substituted with the current term.) A caller shall tag any DB caches with the term that the caches are valid in, and begin all TXs in that term, so that each TX gets consistent results from cache and DB queries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">db</td><td>database </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">term</td><td>if not RDB_NIL_TERM, term to begin in </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tx</td><td>transaction</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>this replica not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00066">66</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="acb50fabb159cc6442682bc2637e6cf5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb50fabb159cc6442682bc2637e6cf5b">&sect;&nbsp;</a></span>rdb_tx_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Commit <em>tx</em>. If successful, then all updates in <em>tx</em> are revealed to queries. If an error occurs, then <em>tx</em> is aborted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>this replica not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00104">104</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="a19f639801cd64f97057822c7a1ea47b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f639801cd64f97057822c7a1ea47b6">&sect;&nbsp;</a></span>rdb_tx_create_kvs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_create_kvs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structrdb__kvs__attr.html">rdb_kvs_attr</a> *&#160;</td>
          <td class="paramname"><em>attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new KVS for <em>key</em> in KVS <em>parent</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>path to parent KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key in parent KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attr</td><td>attr of new KVS</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00376">376</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="a7a424584eff345e62d658c231ae49f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a424584eff345e62d658c231ae49f5c">&sect;&nbsp;</a></span>rdb_tx_create_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_create_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structrdb__kvs__attr.html">rdb_kvs_attr</a> *&#160;</td>
          <td class="paramname"><em>attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TX update methods</p>
<p>Create the root KVS.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attr</td><td>attributes of root KVS</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00331">331</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="aa9f5935a8978513e312ed64c05d7754c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9f5935a8978513e312ed64c05d7754c">&sect;&nbsp;</a></span>rdb_tx_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete <em>key</em> in <em>kvs</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kvs</td><td>path to KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key in KVS</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00450">450</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="a70ee8f185257c553fe95e0f8c23ecada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ee8f185257c553fe95e0f8c23ecada">&sect;&nbsp;</a></span>rdb_tx_destroy_kvs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_destroy_kvs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the KVS for <em>key</em> in KVS <em>parent</em>. Any child KVSs must have already been destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>path to parent KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key in parent KVS</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00401">401</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="acd3a1ae8c7121503c20a384f448121fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd3a1ae8c7121503c20a384f448121fa">&sect;&nbsp;</a></span>rdb_tx_destroy_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_destroy_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the root KVS. Any child KVSs must have already been destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00352">352</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="a0e766e3f83e71e1088647d3a78d5bee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e766e3f83e71e1088647d3a78d5bee5">&sect;&nbsp;</a></span>rdb_tx_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdb_tx_end </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End and finalize <em>tx</em>. If <em>tx</em> is not committed, then all updates in <em>tx</em> are discarded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00129">129</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="abcb1bd8115186c628b6eaee7156d1277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcb1bd8115186c628b6eaee7156d1277">&sect;&nbsp;</a></span>rdb_tx_fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_fetch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="rdb_8h.html#a5f9429458504aabd590760cfda655677">rdb_probe_opc</a>&#160;</td>
          <td class="paramname"><em>opc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>key_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>key_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform a probe-and-fetch operation on <em>kvs</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kvs</td><td>path to KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opc</td><td>probe operation </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_in</td><td>input key </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">key_out</td><td>output key </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">value</td><td>value</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00731">731</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="adc26d0097196e7bfdf549f83301e8709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc26d0097196e7bfdf549f83301e8709">&sect;&nbsp;</a></span>rdb_tx_iterate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_iterate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>backward</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rdb_8h.html#a1d6840c963a60012d4d919b55342c851">rdb_iterate_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform an iteration on <em>kvs</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kvs</td><td>path to KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">backward</td><td>key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>argument for callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00757">757</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="a85aa143cb1d744c2d5468c3c360ce268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85aa143cb1d744c2d5468c3c360ce268">&sect;&nbsp;</a></span>rdb_tx_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TX query methods</p>
<p>Look up the value of <em>key</em> in <em>kvs</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kvs</td><td>path to KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">value</td><td>value</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00704">704</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<a id="aed5e9ae251106be9b8b5f93c17def36a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed5e9ae251106be9b8b5f93c17def36a">&sect;&nbsp;</a></span>rdb_tx_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rdb_tx_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrdb__tx.html">rdb_tx</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rdb_8h.html#ad4dfd3c62ba900fee3e7320e4f98decd">rdb_path_t</a> *&#160;</td>
          <td class="paramname"><em>kvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the value of <em>key</em> in <em>kvs</em> to <em>value</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kvs</td><td>path to KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key in KVS </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>new value</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-DER_NOTLEADER</td><td>not current leader </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rdb__tx_8c_source.html#l00426">426</a> of file <a class="el" href="rdb__tx_8c_source.html">rdb_tx.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5ec25dbad5708426d925aa0bf19020c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec25dbad5708426d925aa0bf19020c2">&sect;&nbsp;</a></span>rdb_path_root_key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="daos__types_8h.html#aaab55aaa14b2194205904288145f3445">daos_iov_t</a> rdb_path_root_key</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Root key (opaque)</p>
<p>A special key representing the root KVS in a path. </p>

<p>Definition at line <a class="el" href="rdb__path_8c_source.html#l00033">33</a> of file <a class="el" href="rdb__path_8c_source.html">rdb_path.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
