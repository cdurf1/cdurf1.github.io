<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DAOS API Reference: C:/Users/wcdurfey/Documents/HPDD/Pathforward/daos-master/src/include/daos_tier.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Intel_Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DAOS API Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b0856f6b0d80ccb263b2f415c91f9e17.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">daos_tier.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>DAOS Caching and Tiering APIs.  
<a href="#details">More...</a></p>

<p><a href="daos__tier_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaos__cache__pol__t.html">daos_cache_pol_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdaos__tier__info__t.html">daos_tier_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9be937d220219706a0abb67018b5ba06"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daos__tier_8h.html#a9be937d220219706a0abb67018b5ba06">daos_tier_type_t</a> { <a class="el" href="daos__tier_8h.html#a9be937d220219706a0abb67018b5ba06a1c40da5431ef614ba2eea7e7e3eed53d">CACHE</a>, 
<a class="el" href="daos__tier_8h.html#a9be937d220219706a0abb67018b5ba06a8db0a86f11645af94e2d24ac302576a7">PARKING</a>
 }</td></tr>
<tr class="separator:a9be937d220219706a0abb67018b5ba06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea64c99c0807f4fa3a234310e895a617"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daos__tier_8h.html#aea64c99c0807f4fa3a234310e895a617">daos_tier_ret_codes_t</a> { <br />
&#160;&#160;<a class="el" href="daos__tier_8h.html#aea64c99c0807f4fa3a234310e895a617a8b00d803deed29c3e08599fbffc554e2">DER_TIER_BASE</a> = 3000, 
<a class="el" href="daos__tier_8h.html#aea64c99c0807f4fa3a234310e895a617a5a1835028a6086f8508fb29644f1b6a9">NO_COLDER</a> = DER_TIER_BASE + 1, 
<a class="el" href="daos__tier_8h.html#aea64c99c0807f4fa3a234310e895a617aa0927b036be4302625e1cdca3eef157b">ALREADY_CONN_WARM</a> = DER_TIER_BASE + 2, 
<a class="el" href="daos__tier_8h.html#aea64c99c0807f4fa3a234310e895a617accb2f78f8f3119658cfd164100991f4c">ALREADY_CONN_COLD</a> = DER_TIER_BASE + 3, 
<br />
&#160;&#160;<a class="el" href="daos__tier_8h.html#aea64c99c0807f4fa3a234310e895a617a58071e0587d14fd0ba5062727ddc087e">HANDLE_BCAST_ERR</a> = DER_TIER_BASE + 4, 
<a class="el" href="daos__tier_8h.html#aea64c99c0807f4fa3a234310e895a617a82bf0ff2dda79bd78e6b36b3c30a43b3">COLD_ALREADY_SET</a> = DER_TIER_BASE + 5
<br />
 }</td></tr>
<tr class="separator:aea64c99c0807f4fa3a234310e895a617"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9546ab7691635b68d2b08bae431a0e82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daos__tier_8h.html#a9546ab7691635b68d2b08bae431a0e82">daos_tier_fetch_cont</a> (<a class="el" href="structdaos__handle__t.html">daos_handle_t</a> <a class="el" href="simple__array_8c.html#af65e0a5ef9986001524f96e09ae666a3">poh</a>, const uuid_t cont_id, <a class="el" href="daos__types_8h.html#ae363d5e93e32d7104d2bdaf97bfa5d61">daos_epoch_t</a> fetch_ep, <a class="el" href="structdaos__oid__list__t.html">daos_oid_list_t</a> *obj_list, <a class="el" href="daos__types_8h.html#aea0d211a13ba6d06d4841f1fbbb22ff5">daos_event_t</a> *<a class="el" href="cross__conn__test_8c.html#aadfbbd392ad4522c66a77a7a25c6428d">ev</a>)</td></tr>
<tr class="separator:a9546ab7691635b68d2b08bae431a0e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba4e5baf75a763e89aa6a64c410f3782"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daos__tier_8h.html#aba4e5baf75a763e89aa6a64c410f3782">daos_tier_pool_connect</a> (const uuid_t uuid, const char *grp, const d_rank_list_t *<a class="el" href="simple__array_8c.html#a0cae3ee8bde2f461de265923dd6465c0">svc</a>, unsigned int flags, <a class="el" href="structdaos__handle__t.html">daos_handle_t</a> *<a class="el" href="simple__array_8c.html#af65e0a5ef9986001524f96e09ae666a3">poh</a>, <a class="el" href="structdaos__pool__info__t.html">daos_pool_info_t</a> *info, <a class="el" href="daos__types_8h.html#aea0d211a13ba6d06d4841f1fbbb22ff5">daos_event_t</a> *<a class="el" href="cross__conn__test_8c.html#aadfbbd392ad4522c66a77a7a25c6428d">ev</a>)</td></tr>
<tr class="separator:aba4e5baf75a763e89aa6a64c410f3782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5272e1749f6c525d431cab65ed68da89"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daos__tier_8h.html#a5272e1749f6c525d431cab65ed68da89">daos_tier_register_cold</a> (const uuid_t colder_uuid, const char *<a class="el" href="srv__tmgmt_8c.html#a71b95172f00022f9557ae8028c508e47">colder_grp</a>, const uuid_t tgt_uuid, char *tgt_grp_id, <a class="el" href="daos__types_8h.html#aea0d211a13ba6d06d4841f1fbbb22ff5">daos_event_t</a> *<a class="el" href="cross__conn__test_8c.html#aadfbbd392ad4522c66a77a7a25c6428d">ev</a>)</td></tr>
<tr class="separator:a5272e1749f6c525d431cab65ed68da89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668a60417a957e8ea42443e09f7e07ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daos__tier_8h.html#a668a60417a957e8ea42443e09f7e07ea">daos_tier_setup_client_ctx</a> (const uuid_t <a class="el" href="srv__tmgmt_8c.html#ad40b45c5938ba2ef6c40b96df8cc1b29">colder_id</a>, const char *<a class="el" href="srv__tmgmt_8c.html#a71b95172f00022f9557ae8028c508e47">colder_grp</a>, <a class="el" href="structdaos__handle__t.html">daos_handle_t</a> *cold_poh, const uuid_t tgt_uuid, const char *tgt_grp, <a class="el" href="structdaos__handle__t.html">daos_handle_t</a> *<a class="el" href="cross__conn__test_8c.html#aac89e6d17db19e688a240d827600544a">warm_poh</a>)</td></tr>
<tr class="separator:a668a60417a957e8ea42443e09f7e07ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8afdebd79ef40d9fb198ca2fe6c3e75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daos__tier_8h.html#ac8afdebd79ef40d9fb198ca2fe6c3e75">daos_tier_ping</a> (uint32_t ping_val, <a class="el" href="daos__types_8h.html#aea0d211a13ba6d06d4841f1fbbb22ff5">daos_event_t</a> *<a class="el" href="cross__conn__test_8c.html#aadfbbd392ad4522c66a77a7a25c6428d">ev</a>)</td></tr>
<tr class="separator:ac8afdebd79ef40d9fb198ca2fe6c3e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DAOS Caching and Tiering APIs. </p>
<p>(C) Copyright 2016 Intel Corporation.</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
<p>GOVERNMENT LICENSE RIGHTS-OPEN SOURCE SOFTWARE The Government's rights to use, modify, reproduce, release, perform, display, or disclose this software are subject to the terms of the Apache License as provided in Contract No. B609815. Any reproduction of computer software, computer software documentation, or portions thereof marked with this legend must also reproduce the markings.</p>
<p>Author: John Keys <a href="#" onclick="location.href='mai'+'lto:'+'joh'+'n.'+'key'+'s@'+'int'+'el'+'.co'+'m'; return false;">john.<span style="display: none;">.nosp@m.</span>keys<span style="display: none;">.nosp@m.</span>@inte<span style="display: none;">.nosp@m.</span>l.co<span style="display: none;">.nosp@m.</span>m</a> Author: Ian F. Adams <a href="#" onclick="location.href='mai'+'lto:'+'ian'+'.f'+'.ad'+'am'+'s@i'+'nt'+'el.'+'co'+'m'; return false;">ian.f<span style="display: none;">.nosp@m.</span>.ada<span style="display: none;">.nosp@m.</span>ms@in<span style="display: none;">.nosp@m.</span>tel.<span style="display: none;">.nosp@m.</span>com</a> Version 0.1 </p>

<p>Definition in file <a class="el" href="daos__tier_8h_source.html">daos_tier.h</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aea64c99c0807f4fa3a234310e895a617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea64c99c0807f4fa3a234310e895a617">&sect;&nbsp;</a></span>daos_tier_ret_codes_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="daos__tier_8h.html#aea64c99c0807f4fa3a234310e895a617">daos_tier_ret_codes_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aea64c99c0807f4fa3a234310e895a617a8b00d803deed29c3e08599fbffc554e2"></a>DER_TIER_BASE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aea64c99c0807f4fa3a234310e895a617a5a1835028a6086f8508fb29644f1b6a9"></a>NO_COLDER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aea64c99c0807f4fa3a234310e895a617aa0927b036be4302625e1cdca3eef157b"></a>ALREADY_CONN_WARM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aea64c99c0807f4fa3a234310e895a617accb2f78f8f3119658cfd164100991f4c"></a>ALREADY_CONN_COLD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aea64c99c0807f4fa3a234310e895a617a58071e0587d14fd0ba5062727ddc087e"></a>HANDLE_BCAST_ERR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aea64c99c0807f4fa3a234310e895a617a82bf0ff2dda79bd78e6b36b3c30a43b3"></a>COLD_ALREADY_SET&#160;</td><td class="fielddoc"></td></tr>
</table>

<p>Definition at line <a class="el" href="daos__tier_8h_source.html#l00065">65</a> of file <a class="el" href="daos__tier_8h_source.html">daos_tier.h</a>.</p>

</div>
</div>
<a id="a9be937d220219706a0abb67018b5ba06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9be937d220219706a0abb67018b5ba06">&sect;&nbsp;</a></span>daos_tier_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="daos__tier_8h.html#a9be937d220219706a0abb67018b5ba06">daos_tier_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9be937d220219706a0abb67018b5ba06a1c40da5431ef614ba2eea7e7e3eed53d"></a>CACHE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9be937d220219706a0abb67018b5ba06a8db0a86f11645af94e2d24ac302576a7"></a>PARKING&#160;</td><td class="fielddoc"></td></tr>
</table>

<p>Definition at line <a class="el" href="daos__tier_8h_source.html#l00059">59</a> of file <a class="el" href="daos__tier_8h_source.html">daos_tier.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9546ab7691635b68d2b08bae431a0e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9546ab7691635b68d2b08bae431a0e82">&sect;&nbsp;</a></span>daos_tier_fetch_cont()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_tier_fetch_cont </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a>&#160;</td>
          <td class="paramname"><em>poh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>cont_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="daos__types_8h.html#ae363d5e93e32d7104d2bdaf97bfa5d61">daos_epoch_t</a>&#160;</td>
          <td class="paramname"><em>fetch_ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdaos__oid__list__t.html">daos_oid_list_t</a> *&#160;</td>
          <td class="paramname"><em>obj_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="daos__types_8h.html#aea0d211a13ba6d06d4841f1fbbb22ff5">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CT (Pre)Fetch API Move an entire containers content at a specified highest committed epoch HCE to the target pool. This is sourced from the coldest tier of the tier hierarchy</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">poh</td><td>[IN] Pool connection handle of the target pool </td></tr>
    <tr><td class="paramname">cont_id</td><td>[IN] UUID of the container to fetch </td></tr>
    <tr><td class="paramname">fetch_ep</td><td>[IN] Epoch to fetch. To retrieve HCE pass in 0. </td></tr>
    <tr><td class="paramname">obj_list</td><td>List of objects to fetch, if NULL, all objects in the container will be retrieved </td></tr>
    <tr><td class="paramname">ev</td><td>[IN] Completion event, it is optional and can be NULL. The function will run in blocking mode if <em>ev</em> is NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>These values will be returned by <em>ev::error</em> in non-blocking mode: -0 Success -DER_NO_HDL Invalid pool handle -DER_INVAL Invalid parameter -DER_NONEXIST Container is nonexistent on lower tier -DER_UNREACH Network is unreachable -DER_NO_PERM Permission denied </dd></dl>

<p>Definition at line <a class="el" href="tier_8c_source.html#l00096">96</a> of file <a class="el" href="tier_8c_source.html">tier.c</a>.</p>

</div>
</div>
<a id="ac8afdebd79ef40d9fb198ca2fe6c3e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8afdebd79ef40d9fb198ca2fe6c3e75">&sect;&nbsp;</a></span>daos_tier_ping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_tier_ping </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ping_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="daos__types_8h.html#aea0d211a13ba6d06d4841f1fbbb22ff5">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>PING client call, mostly for testing and playing around TODO add docstring,and group if we decide to keep it </p>

<p>Definition at line <a class="el" href="tier_8c_source.html#l00219">219</a> of file <a class="el" href="tier_8c_source.html">tier.c</a>.</p>

</div>
</div>
<a id="aba4e5baf75a763e89aa6a64c410f3782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba4e5baf75a763e89aa6a64c410f3782">&sect;&nbsp;</a></span>daos_tier_pool_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_tier_pool_connect </td>
          <td>(</td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const d_rank_list_t *&#160;</td>
          <td class="paramname"><em>svc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a> *&#160;</td>
          <td class="paramname"><em>poh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdaos__pool__info__t.html">daos_pool_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="daos__types_8h.html#aea0d211a13ba6d06d4841f1fbbb22ff5">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CT Tier Mapping API Wrapped Calls, eventually these should alias higher level DAOS calls Connect to the DAOS pool identified by UUID <em>uuid</em>. Upon a successful completion, <em>poh</em> returns the pool handle, and <em>info</em> returns the latest pool information. The CT version of this call also initiates upstream connections, i.e. connections from the colder tier to the warmer, and downstream connections, warm to cold.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uuid</td><td>[IN] UUID to identify a pool. </td></tr>
    <tr><td class="paramname">grp</td><td>[IN] Process set name of the DAOS servers managing the pool </td></tr>
    <tr><td class="paramname">svc</td><td>[IN] Optional, indicates potential targets of the pool service replicas. If not aware of the ranks of the pool service replicas, the caller may pass in NULL. </td></tr>
    <tr><td class="paramname">flags</td><td>[IN] Connect mode represented by the DAOS_PC_ bits. </td></tr>
    <tr><td class="paramname">poh</td><td>[OUT] Returned open handle. </td></tr>
    <tr><td class="paramname">info</td><td>[OUT] Returned pool info. </td></tr>
    <tr><td class="paramname">ev</td><td>[IN] Completion event, it is optional and can be NULL. The function will run in blocking mode if <em>ev</em> is NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>These values will be returned by <em>ev::ev_error</em> in non-blocking mode: 0 Success -DER_INVAL Invalid parameter -DER_UNREACH Network is unreachable -DER_NO_PERM Permission denied -DER_NONEXIST Pool is nonexistent +NO_COLDER No colder pool is identified local connection succeded +ALREADY_CONN_COLD Lower-tier connection already exists, local conn success </dd></dl>

<p>Definition at line <a class="el" href="tier_8c_source.html#l00112">112</a> of file <a class="el" href="tier_8c_source.html">tier.c</a>.</p>

</div>
</div>
<a id="a5272e1749f6c525d431cab65ed68da89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5272e1749f6c525d431cab65ed68da89">&sect;&nbsp;</a></span>daos_tier_register_cold()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daos_tier_register_cold </td>
          <td>(</td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>colder_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colder_grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>tgt_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>tgt_grp_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="daos__types_8h.html#aea0d211a13ba6d06d4841f1fbbb22ff5">daos_event_t</a> *&#160;</td>
          <td class="paramname"><em>ev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="tier_8c_source.html#l00177">177</a> of file <a class="el" href="tier_8c_source.html">tier.c</a>.</p>

</div>
</div>
<a id="a668a60417a957e8ea42443e09f7e07ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a668a60417a957e8ea42443e09f7e07ea">&sect;&nbsp;</a></span>daos_tier_setup_client_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void daos_tier_setup_client_ctx </td>
          <td>(</td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>colder_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>colder_grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a> *&#160;</td>
          <td class="paramname"><em>cold_poh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uuid_t&#160;</td>
          <td class="paramname"><em>tgt_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tgt_grp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdaos__handle__t.html">daos_handle_t</a> *&#160;</td>
          <td class="paramname"><em>warm_poh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="tier_8c_source.html#l00197">197</a> of file <a class="el" href="tier_8c_source.html">tier.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
